<script>
    // 数组拍平
    let a = [1, 2, [3, [4, [5]]]]
        // [1,2,3,4,5]
    let map = new Map();

    function flat(arr) {
        // todo
        let arr1 = [];
        if (map.get(arr)) return map.get(arr)
        map.set(arr, arr1)
        arr.forEach((val) => {
            val instanceof Array ? arr1.push(...flat(val)) : arr1.push(val)
        })
        return arr1
    }
    console.log(flat(a))
</script>